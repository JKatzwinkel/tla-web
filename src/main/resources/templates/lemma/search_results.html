<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{base}"
>
  <head>
    <title>Lemma Search</title>
  </head>

  <body>

    <div layout:fragment="content">

      <div class="search-header">
        <p th:replace="fragments/search :: result-page-desc"/>
      </div>

      <div class="row">
        <div class="col-lg-8 result-list">
          <nav th:replace="fragments/search :: search-results-pagination"/>

          <div th:each="obj : ${searchResults}" class="result-list-item" th:id="${obj.id}" th:object="${obj}">
            <div>
              <h2 class="result-list-item-element transcription bbaw-libertine" th:text="*{name}">nfr</h2>
              <span class="result-list-item-element hieroglyph" th:unless="*{hieroglyphs} == null">
                <span th:replace="fragments/details :: hieroglyphs(*{hieroglyphs})">N35:G43</span>
              </span>
              <span class="result-list-item-element lemma-id badge badge-pill badge-secondary" th:text="*{id}">33410</span>
            </div>

            <div>
              <span class="result-list-item-element word-class font-italic font-weight-light">
                <span th:replace="fragments/details :: lemma-pos">Part of speech</span>
              </span>
            </div>
          </div>

          <nav th:replace="fragments/search :: search-results-pagination"/>
        </div>

        <!-- sidebar -->
        <div class="col-lg-4 sidebar">
          <div class="sticky-top">

            <div style="display: none">
              <form th:replace="fragments/search :: #dict-search"/>
            </div>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <label class="input-group-text" for="select-sort-order">Order by</label>
              </div>
              <select class="custom-select select-sort-order" id="select-sort-order" th:field="${searchQuery.sort}" form="dict-search">
                <option value="sortKey.asc">Alphabetic asc.</option>
                <option value="sortKey.desc">Alphabetic desc.</option>
                <script th:inline="javascript">
                  //<![CDATA[
                  $('#select-sort-order').change(
                    () => {
                      $('form#dict-search').submit();
                    }
                  );
                  //]]>
                </script>
              </select>
              <div class="input-group-append" style="display: none">
                <button class="btn btn-block btn-secondary text-left text-decoration-none" form="dict-search" id="submit-sort-order" type="submit">
                  <span class="fas fa-arrow-circle-right"></span>
                  <span>Apply</span>
                </button>
              </div>
            </div>

            <div>
              <a th:href="${modifySearchUrl}">
                <button type="button" class="btn btn-block btn-red text-left text-decoration-none modify-search-btn">
                  <span class="fas fa-arrow-circle-left"></span>
                  <span>Modify search</span>
                </button>
              </a>
            </div>

          </div>
        </div>
      </div>

    </div>

  </body>
</html>